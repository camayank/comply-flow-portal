# =======================================================================
# Comply Flow Portal - Environment Configuration
# =======================================================================
# Copy this file to .env and fill in your actual values
# NEVER commit the .env file to version control
# =======================================================================

# =======================================================================
# APPLICATION SETTINGS
# =======================================================================
NODE_ENV=development
PORT=5000
APP_NAME="Comply Flow Portal"
APP_URL=http://localhost:5000
FRONTEND_URL=http://localhost:3000

# =======================================================================
# DATABASE CONFIGURATION (PostgreSQL)
# =======================================================================
DB_HOST=localhost
DB_PORT=5432
DB_NAME=comply_flow_db
DB_USER=postgres
DB_PASSWORD=your_database_password
DB_SSL=false

# Database Pool Settings
DB_POOL_MIN=2
DB_POOL_MAX=10

# =======================================================================
# JWT & AUTHENTICATION
# =======================================================================
JWT_SECRET=your_super_secret_jwt_key_change_this_in_production
JWT_ACCESS_EXPIRY=15m
JWT_REFRESH_EXPIRY=7d
JWT_ISSUER=comply-flow-portal
JWT_AUDIENCE=comply-flow-users

# Session Configuration
SESSION_SECRET=your_super_secret_session_key_change_this_in_production
SESSION_EXPIRY_HOURS=24
SESSION_NAME=complyflow.sid

# OTP Configuration
OTP_LENGTH=6
OTP_EXPIRY_MINUTES=10
OTP_MAX_ATTEMPTS=3

# =======================================================================
# SECURITY SETTINGS
# =======================================================================
BCRYPT_ROUNDS=12
MAX_LOGIN_ATTEMPTS=5
ACCOUNT_LOCKOUT_DURATION_MINUTES=30
RATE_LIMIT_WINDOW_MINUTES=15
RATE_LIMIT_MAX_REQUESTS=100

# CORS Settings
CORS_ORIGIN=http://localhost:3000
CORS_CREDENTIALS=true

# =======================================================================
# EMAIL CONFIGURATION (SMTP)
# =======================================================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your_email@gmail.com
SMTP_PASSWORD=your_email_app_password
EMAIL_FROM_NAME=Comply Flow Portal
EMAIL_FROM_ADDRESS=noreply@complyflow.com

# Email Service Provider (smtp, sendgrid, mailgun, ses)
EMAIL_PROVIDER=smtp

# SendGrid (Alternative)
SENDGRID_API_KEY=

# Mailgun (Alternative)
MAILGUN_API_KEY=
MAILGUN_DOMAIN=

# AWS SES (Alternative)
AWS_SES_REGION=
AWS_SES_ACCESS_KEY=
AWS_SES_SECRET_KEY=

# =======================================================================
# SMS CONFIGURATION
# =======================================================================
SMS_ENABLED=true
SMS_PROVIDER=twilio

# Twilio Configuration
TWILIO_ACCOUNT_SID=your_twilio_account_sid
TWILIO_AUTH_TOKEN=your_twilio_auth_token
TWILIO_PHONE_NUMBER=+1234567890

# MSG91 (Alternative)
MSG91_AUTH_KEY=
MSG91_SENDER_ID=
MSG91_ROUTE=4

# AWS SNS (Alternative)
AWS_SNS_REGION=
AWS_SNS_ACCESS_KEY=
AWS_SNS_SECRET_KEY=

# =======================================================================
# WHATSAPP CONFIGURATION
# =======================================================================
WHATSAPP_ENABLED=true
WHATSAPP_PROVIDER=twilio

# Twilio WhatsApp
TWILIO_WHATSAPP_NUMBER=whatsapp:+14155238886

# WhatsApp Business API (Alternative)
WHATSAPP_API_URL=
WHATSAPP_API_TOKEN=
WHATSAPP_PHONE_NUMBER_ID=

# =======================================================================
# PAYMENT GATEWAY (RAZORPAY)
# =======================================================================
RAZORPAY_ENABLED=true
RAZORPAY_KEY_ID=your_razorpay_key_id
RAZORPAY_KEY_SECRET=your_razorpay_key_secret
RAZORPAY_WEBHOOK_SECRET=your_razorpay_webhook_secret

# Payment Configuration
PAYMENT_CURRENCY=INR
PAYMENT_MIN_AMOUNT=100
PAYMENT_MAX_AMOUNT=10000000

# =======================================================================
# FILE STORAGE & UPLOADS
# =======================================================================
STORAGE_TYPE=local

# Local Storage
UPLOAD_DIR=./uploads
MAX_FILE_SIZE=10485760
ALLOWED_FILE_TYPES=pdf,jpg,jpeg,png,doc,docx,xls,xlsx,zip

# AWS S3 (Alternative)
AWS_S3_REGION=
AWS_S3_BUCKET=
AWS_S3_ACCESS_KEY=
AWS_S3_SECRET_KEY=

# Google Cloud Storage (Alternative)
GCS_BUCKET=
GCS_PROJECT_ID=
GCS_KEY_FILE=

# =======================================================================
# REDIS (For Caching & Sessions)
# =======================================================================
REDIS_ENABLED=false
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# =======================================================================
# LOGGING
# =======================================================================
LOG_LEVEL=info
LOG_DIR=./logs
LOG_MAX_FILES=14
LOG_MAX_SIZE=20m

# =======================================================================
# THIRD-PARTY INTEGRATIONS
# =======================================================================

# Google OAuth (Optional)
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GOOGLE_CALLBACK_URL=http://localhost:5000/api/v1/auth/google/callback

# Google Sheets API (For imports)
GOOGLE_SHEETS_ENABLED=false
GOOGLE_SERVICE_ACCOUNT_EMAIL=
GOOGLE_PRIVATE_KEY=

# Government API Integration
MCA_API_ENABLED=false
MCA_API_KEY=
MCA_API_URL=

GST_API_ENABLED=false
GST_API_KEY=
GST_API_URL=

# =======================================================================
# NOTIFICATION PREFERENCES
# =======================================================================
NOTIFICATION_EMAIL_ENABLED=true
NOTIFICATION_SMS_ENABLED=true
NOTIFICATION_WHATSAPP_ENABLED=true
NOTIFICATION_IN_APP_ENABLED=true
NOTIFICATION_PUSH_ENABLED=false

# =======================================================================
# BUSINESS CONFIGURATION
# =======================================================================
DEFAULT_TAX_RATE=18
DEFAULT_COMMISSION_RATE=10
INVOICE_PREFIX=INV
INVOICE_START_NUMBER=1001

# Service Request Configuration
SR_PREFIX=SR
SR_START_NUMBER=10001

# Lead Configuration
LEAD_PREFIX=LD
LEAD_START_NUMBER=50001

# =======================================================================
# CRON JOBS & SCHEDULED TASKS
# =======================================================================
CRON_ENABLED=true
CRON_DEADLINE_REMINDER=0 9 * * *
CRON_PAYMENT_REMINDER=0 10 * * *
CRON_TASK_REMINDER=0 8 * * *
CRON_REPORT_GENERATION=0 0 * * 0

# =======================================================================
# FEATURES FLAGS
# =======================================================================
FEATURE_AGENT_PORTAL=true
FEATURE_CLIENT_PORTAL=true
FEATURE_SALES_PORTAL=true
FEATURE_OPERATIONS_PORTAL=true
FEATURE_ADMIN_PORTAL=true
FEATURE_PAYMENT_GATEWAY=true
FEATURE_WHATSAPP_INTEGRATION=true
FEATURE_AI_DOCUMENT_PROCESSING=false
FEATURE_GOVERNMENT_API_INTEGRATION=false

# =======================================================================
# MONITORING & ANALYTICS
# =======================================================================
SENTRY_ENABLED=false
SENTRY_DSN=

GOOGLE_ANALYTICS_ENABLED=false
GOOGLE_ANALYTICS_ID=

# =======================================================================
# DEVELOPMENT TOOLS
# =======================================================================
DEBUG=false
SHOW_STACK_TRACE=true
MOCK_EMAIL=false
MOCK_SMS=false
MOCK_PAYMENT=false

# API Documentation
SWAGGER_ENABLED=true
SWAGGER_PATH=/api-docs

# =======================================================================
# RATE LIMITING (per endpoint)
# =======================================================================
RATE_LIMIT_AUTH_WINDOW=15
RATE_LIMIT_AUTH_MAX=10
RATE_LIMIT_OTP_WINDOW=15
RATE_LIMIT_OTP_MAX=3
RATE_LIMIT_API_WINDOW=15
RATE_LIMIT_API_MAX=100
RATE_LIMIT_UPLOAD_WINDOW=60
RATE_LIMIT_UPLOAD_MAX=10

# =======================================================================
# TIMEZONE & LOCALIZATION
# =======================================================================
TZ=Asia/Kolkata
DEFAULT_LOCALE=en-IN
DEFAULT_CURRENCY=INR
DEFAULT_DATE_FORMAT=DD/MM/YYYY

# =======================================================================
# BACKUP CONFIGURATION
# =======================================================================
BACKUP_ENABLED=false
BACKUP_DIR=./backups
BACKUP_RETENTION_DAYS=30
BACKUP_SCHEDULE=0 2 * * *

# =======================================================================
# AUDIT & COMPLIANCE
# =======================================================================
AUDIT_ENABLED=true
AUDIT_RETENTION_DAYS=365
DATA_ENCRYPTION_KEY=your_encryption_key_change_this

# =======================================================================
# WEBSOCKET CONFIGURATION
# =======================================================================
WEBSOCKET_ENABLED=true
WEBSOCKET_PORT=5001
WEBSOCKET_PATH=/socket.io

# =======================================================================
# END OF CONFIGURATION
# =======================================================================
