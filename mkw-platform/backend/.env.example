# MKW Platform Backend Environment Configuration
# Copy this file to .env and update the values

# ==============================================
# ENVIRONMENT & BASIC CONFIG
# ==============================================
NODE_ENV=development
PORT=5000
LOG_LEVEL=info

# ==============================================
# DATABASE CONFIGURATION
# ==============================================
# PostgreSQL Database Settings
DB_HOST=localhost
DB_PORT=5432
DB_NAME=mkw_platform
DB_USER=mkw_user
DB_PASSWORD=secure_password_here

# Alternative: Full Database URL (overrides individual settings above)
# DATABASE_URL=postgresql://mkw_user:secure_password_here@localhost:5432/mkw_platform

# ==============================================
# SECURITY & AUTHENTICATION
# ==============================================
# JWT Secret (REQUIRED - Generate a strong random string)
JWT_SECRET=your-super-secure-jwt-secret-key-minimum-32-characters-long-change-this

# Session Secret (REQUIRED - Generate a strong random string)
SESSION_SECRET=your-super-secure-session-secret-minimum-32-characters-long-change-this

# Encryption Key for sensitive data (REQUIRED - Generate a strong random string)
CREDENTIAL_ENCRYPTION_KEY=your-super-secure-encryption-key-minimum-32-characters-long-change-this

# Password Reset Token Expiry (in minutes)
PASSWORD_RESET_EXPIRY=15

# Session Configuration
SESSION_TIMEOUT=3600
MAX_LOGIN_ATTEMPTS=5
PASSWORD_MIN_LENGTH=8

# ==============================================
# REDIS CONFIGURATION (for production sessions)
# ==============================================
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=
REDIS_DB=0

# ==============================================
# EMAIL CONFIGURATION
# ==============================================
# SMTP Settings
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password

# Email From Information
EMAIL_FROM_NAME=MKW Advisors
EMAIL_FROM_ADDRESS=noreply@mkwadvisors.com

# Development: Use Ethereal for testing (will auto-generate if not provided)
# ETHEREAL_USER=
# ETHEREAL_PASS=

# ==============================================
# FILE UPLOAD & STORAGE
# ==============================================
# Local Storage Path
UPLOAD_PATH=./uploads
MAX_FILE_SIZE=10485760
ALLOWED_FILE_TYPES=pdf,doc,docx,jpg,jpeg,png,xls,xlsx,zip

# AWS S3 Configuration (for production file storage)
AWS_REGION=ap-south-1
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
S3_BUCKET_NAME=mkw-platform-uploads
S3_BUCKET_REGION=ap-south-1

# Storage Provider: 'local' or 's3'
STORAGE_PROVIDER=local

# ==============================================
# CORS & FRONTEND
# ==============================================
# Frontend URL for CORS
FRONTEND_URL=http://localhost:3000
CORS_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# Cookie Domain (leave empty for localhost)
COOKIE_DOMAIN=
COOKIE_SECURE=false

# ==============================================
# API & INTEGRATION SETTINGS
# ==============================================
# Rate Limiting
RATE_LIMIT_WINDOW=900000
RATE_LIMIT_MAX=100

# API Documentation
API_DOCS_ENABLED=true
API_DOCS_PATH=/api/docs

# Webhook URLs (for external integrations)
WEBHOOK_SECRET=your-webhook-secret-key

# ==============================================
# PAYMENT GATEWAY (RAZORPAY for Indian market)
# ==============================================
RAZORPAY_KEY_ID=rzp_test_your_key_here
RAZORPAY_KEY_SECRET=your_razorpay_secret_here

# ==============================================
# NOTIFICATION & COMMUNICATION
# ==============================================
# SMS Gateway (for Indian numbers)
SMS_PROVIDER=textlocal
TEXTLOCAL_API_KEY=your-textlocal-api-key
TEXTLOCAL_USERNAME=your-textlocal-username

# WhatsApp Business API (optional)
WHATSAPP_TOKEN=your-whatsapp-business-api-token
WHATSAPP_PHONE_NUMBER_ID=your-phone-number-id

# Push Notifications
FCM_SERVER_KEY=your-firebase-server-key

# ==============================================
# MONITORING & ANALYTICS
# ==============================================
# Application Performance Monitoring
SENTRY_DSN=your-sentry-dsn-here

# Google Analytics
GOOGLE_ANALYTICS_ID=GA-XXXXXXXXX

# Health Check Configuration
HEALTH_CHECK_ENABLED=true

# ==============================================
# BUSINESS CONFIGURATION
# ==============================================
# Company Information
COMPANY_NAME=MKW Advisors
COMPANY_EMAIL=info@mkwadvisors.com
COMPANY_PHONE=+91-11-4567-8900
COMPANY_ADDRESS=MKW Tower, Connaught Place, New Delhi - 110001
COMPANY_GSTIN=07XXXXX1234X1ZX
COMPANY_WEBSITE=https://mkwadvisors.com

# Default Business Rules
AUTO_ASSIGN_REQUESTS=true
REQUIRE_PAYMENT_BEFORE_DELIVERY=false
DEFAULT_SLA_HOURS=48
DEFAULT_CURRENCY=INR
DEFAULT_TIMEZONE=Asia/Kolkata

# ==============================================
# DEVELOPMENT & DEBUGGING
# ==============================================
# Debug Flags
DEBUG_SQL=false
DEBUG_EMAILS=false
DEBUG_SESSIONS=false

# Development Tools
ENABLE_GRAPHIQL=false
ENABLE_PLAYGROUND=false

# ==============================================
# FEATURE FLAGS
# ==============================================
# Enable/Disable Features
ENABLE_REAL_TIME_SYNC=true
ENABLE_EMAIL_NOTIFICATIONS=true
ENABLE_SMS_NOTIFICATIONS=true
ENABLE_PUSH_NOTIFICATIONS=false
ENABLE_WEBHOOK_CALLBACKS=false
ENABLE_AUDIT_LOGGING=true
ENABLE_PERFORMANCE_MONITORING=true

# ==============================================
# BACKUP & MAINTENANCE
# ==============================================
# Backup Configuration
BACKUP_ENABLED=false
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=mkw-platform-backups

# Maintenance Mode
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE=System is under maintenance. Please try again later.

# ==============================================
# INSTRUCTIONS
# ==============================================
# 1. Copy this file to .env
# 2. Update all 'your-*' values with actual credentials
# 3. Generate strong secrets for JWT_SECRET, SESSION_SECRET, and CREDENTIAL_ENCRYPTION_KEY
# 4. Configure database connection details
# 5. Set up SMTP for email functionality
# 6. Configure file storage (local for development, S3 for production)
# 7. Never commit .env file to version control
#
# SECURITY NOTES:
# - All secrets should be at least 32 characters long
# - Use different secrets for development/staging/production
# - Rotate secrets regularly in production
# - Use environment-specific values